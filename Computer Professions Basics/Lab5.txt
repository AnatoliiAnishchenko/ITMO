ORG	00A
POINT:	WORD	0743	;memory pointer

ORG	451
SAVE:	WORD	?	;save
CUR:	WORD	?	;
MASK1:	WORD	00FF	;first symbol
MASK2:	WORD	FF00	;second symbol
CONST:	WORD	FFF8	;-8 (CONST)
SHIFT:	WORD	FFF8	;-8 (to ROR)

BEGIN:	CLA
	ADD	(POINT)
SPIN0:	TSF	03	;waiting
	BR	SPIN0
	JSR	WRITE
	CMA
	INC
	MOV 	CUR
	BEQ 	END

LOOP:	CLA
	ADD	CONST
	MOV	SHIFT
	
	CLA
	ADD	(POINT)	;read word BA
	MOV	SAVE
	AND	MASK1	;get first char
SPIN1:	TSF	03	;waiting
	BR	SPIN1
	JSR	WRITE
	ISZ	CUR
	BR	STEP1
	BR	END
STEP1:	CLA
	ADD	SAVE
	AND	MASK2	;get second char
WORDA:	ROR
	ISZ	SHIFT
	BR	WORDA	;B0 -> 0B
SPIN2:	TSF	03	;waiting
	BR	SPIN2
	JSR	WRITE
	ISZ	CUR
	BR	LOOP
END:	HLT

WRITE:	WORD	0000
	OUT	3
	CLF	3
	BR	(WRITE)
	
ORG	743
	WORD	0017
	WORD	D320
	WORD	CDC9
	WORD	CFD7
	WORD	CFCC
	WORD	20D7
	WORD	3128
	WORD	C220
	WORD	CAC1
	WORD	29D4
	WORD	202C
	WORD	20C9
	WORD	00C4	